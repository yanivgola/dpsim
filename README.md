# סימולטור תשאול מבוסס AI עם הפעלה קולית

**גרסה: 5.2.0 (לוגיקת הסתעפות ותנאים)**

## 1. תיאור האפליקציה

סימולטור תשאול אינטראקטיבי המיועד לאימון חניכים בטכניקות תשאול. האפליקציה משתמשת ב-Google Gemini API ליצירת תרחישים דינמיים, ניהול שיחה עם דמות נחקר וירטואלית, ומתן משוב על ביצועי החניך. המערכת תומכת בקלט ופלט קוליים בזמן אמת, כוללת אווטאר אנושי תלת-ממדי (VRM) בסביבת חקירה ריאליסטית, מערכת מצלמה דינמית, ומאפשרת למדריכים להתערב בסימולציות פעילות ולנהל הגדרות מערכת מתקדמות.

**האפליקציה שואפת להתפתח למוצר ברמה מסחרית מובילה, עם דגש על ריאליזם, חוויית משתמש מתקדמת, ויכולות אנליטיות מורחבות.**

## 2. תכונות מרכזיות (נכון לגרסה 5.2.0)

*   **בונה תרחישים ויזואלי ודינמי עם לוגיקת הסתעפות (חדש!):**
    *   ממשק ייעודי המאפשר למדריכים לבנות תרחישים ידניים באופן ויזואלי.
    *   **חיבורים חכמים:** כעת ניתן ללחוץ על כל חיבור (Edge) בין צמתים, לערוך אותו, ולהוסיף לו "תווית תנאי" (לדוגמה: "כאשר החשוד מכחיש").
    *   **העשרת ה-AI:** מנוע ה-AI מבין את התנאים שהוגדרו על החיבורים, ומנהל שיחה דינמית שמשתנה בהתאם להתנהגות החוקר וזרימת התרחיש המותנית.
*   **ארכיטקטורה מוכנה ל-Production:**
    *   **סימולציית Backend מלאה:** האפליקציה פועלת במודל אסינכרוני מלא, המדמה תקשורת עם שרת.
    *   **הסרת התלות ב-`localStorage`:** נתונים מנוהלים כעת על ידי "שרת" מדומה (`BackendService`).
*   **ליבת AI וסימולציה:**
    *   **סוכני AI מבוססי-ידע (RAG):** מאפשר למדריכים להעלות מסמכים ולהצמיד אותם לסוכני AI.
*   **ממשק חניך (`TraineeView`):**
    *   **אווטאר וסביבה תלת-ממדית:** שילוב אווטאר אנושי תלת-ממדי עם הבעות פנים, סנכרון שפתיים, אנימציות ומחוות גוף.
    *   **סביבת חקירה אימרסיבית:** האווטאר מוצג בתוך חדר חקירות ריאליסטי.
    *   ממשק צ'אט עם תמיכה בשיחה טקסטואלית וקולית חיה.
*   **ממשק מדריך/מנהל מערכת (`TrainerView`):**
    *   לוח בקרה עם לשוניות: התערבות חיה, ניהול סוכנים, מאגר ידע, בניית תרחישים, ניהול משתמשים, והגדרות מערכת.
    *   **אנליטיקה מתקדמת לחניכים:** לוח בקרה אינטראקטיבי עם פירוט ביצועים, כולל תרשים מגמת ציונים ותרשים רדאר.

### 3. ארכיטקטורה וטכנולוגיות

*   **Frontend:** React (עם TypeScript), Tailwind CSS.
*   **Web Components:** LitElement עבור רכיבי אודיו וויזואליזציה.
*   **3D/Graphics:** Three.js, **@pixiv/three-vrm** לניהול אוואטרים.
*   **API:** Google Gemini API (`@google/genai`).
*   **Backend (Simulated):** `BackendService.ts` מנהל את כל מצב האפליקציה בזיכרון ומספק API אסינכרוני.
*   **שכבת שירות:** `ApiService.ts` מרכז את כל התקשורת עם ה-Backend המדומה ועם Gemini API.

### 4. תהליך התקנה והרצה

1.  **קבלת מפתח API:** יש להשיג מפתח API עבור Google Gemini ולהגדיר אותו כמשתנה סביבה בשם `API_KEY`.
2.  **הרצת האפליקציה:** פתח את הקובץ `index.html` בדפדפן.
3.  **הורדת מודל אווטאר:** יש להוריד מודל אווטאר בפורמט VRM ולהניח אותו בנתיב `public/assets/vrm/avatar.vrm`.
4.  **גישה למאגר סוכני AI לדוגמה:** הקובץ `public/assets/ai-agents.json` נטען אוטומטית.

### 5. הוראות שימוש בסיסיות

*   **כניסה:** השתמש באחד ממשתמשי הדמה או צור חשבון חדש.
*   **תפקיד חניך:**
    1.  בחר "התחל סימולציה חדשה".
    2.  בחר סוג תרחיש (AI או ידני) ועבור דרך שלבי ההגדרה.
*   **תפקיד מדריך/מנהל מערכת:**
    *   גש ללשונית "בניית תרחישים ידנית" כדי להשתמש בבונה התרחישים הוויזואלי החדש.
    *   גש לשאר הלשוניות לניהול מלא של המערכת.

### 6. חסרונות ידועים ומגבלות נוכחיות

*   **Backend מדומה:** ה"שרת" פועל בזיכרון הדפדפן. רענון הדף יאפס את כל השינויים.
*   **אבטחת מפתח API:** מפתח ה-API של Gemini משמש ישירות בצד הלקוח. **בסביבת ייצור אמיתית, חובה להעביר את קריאות ה-API לשרת אמיתי לאבטחת המפתח.**
*   **תנאים לוגיים מורכבים:** לוגיקת ההסתעפות כרגע מבוססת על תיאור טקסטואלי שה-AI מפרש. אין עדיין מערכת חוקים קשיחה.

(לפירוט מלא, ראה `PROJECT_STATUS_AND_ROADMAP.md` ו-`COMMERCIALIZATION_STRATEGY.md`)